{
  // Applications part
  "apps": [
    {
      "name": "TruckNow",
      "script": "./bin/www",
      // Environment variables injected when starting with --env production
      // http://pm2.keymetrics.io/docs/usage/application-declaration/#switching-to-different-environments
      "env": {
        // "NODE_ENV": "development"
      }
    }
  ],
  // Deployment part
  // Here you describe each environment
  "deploy": {
    "development": {
      "key": "~/servers_details/TruckNow/dev/TruckNow-dev.pem",
      "user": "ubuntu",
      // Multi host is possible, just by passing IPs/hostname as an array
      "host": [
        //"ec2-34-252-23-190.eu-west-1.compute.amazonaws.com"
        "trucknow-dev.moveodevelop.com"
      ],
      // Branch
      "ref": "origin/dev",
      // Git repository to clone
      "repo": "git@github.com:MoveoTech/TruckNow-Server.git",
      // Path of the application on target servers
      "path": "/home/ubuntu/TruckNow-Server",
      // Can be used to give options in the format used in the configura-
      // tion file.  This is useful for specifying options for which there
      // is no separate command-line flag, see 'man ssh' 
      // can be either a single string or an array of strings
      "ssh_options": "StrictHostKeyChecking=no",
      // Commands to be executed on the server after the repo has been cloned
      "post-deploy": "cp ~/.env . && apidoc -i apidoc -o webApidoc && npm install && mkdir -p logs && pm2 startOrRestart ecosystem.json --env development && pm2 save",
      // Environment variables that must be injected in all applications on this env
      "env": {
        "NODE_ENV": "development"
      }
    },
    "staging": {
      "key": "~/servers_details/TruckNow/staging/TruckNow-staging.pem",
      "user": "ubuntu",
      // Multi host is possible, just by passing IPs/hostname as an array
      "host": [
        "ec2-52-59-56-209.eu-central-1.compute.amazonaws.com"
      ],
      // Branch
      "ref": "origin/staging",
      // Git repository to clone
      "repo": "git@github.com:MoveoTech/TruckNow-Server.git",
      // Path of the application on target servers
      "path": "/home/ubuntu/TruckNow-Server",
      // Can be used to give options in the format used in the configura-
      // tion file.  This is useful for specifying options for which there
      // is no separate command-line flag, see 'man ssh' 
      // can be either a single string or an array of strings
      "ssh_options": "StrictHostKeyChecking=no",
      // Commands to be executed on the server after the repo has been cloned
      "post-deploy": "cp ~/.env . && apidoc -i apidoc -o webApidoc && npm install && mkdir -p logs && pm2 startOrRestart ecosystem.json --env staging && pm2 save",
      // Environment variables that must be injected in all applications on this env
      "env": {
        "NODE_ENV": "staging"
      }
    },
    "production": {
      "key": "~/servers_details/TruckNow/production/TruckNow-production.pem",
      "user": "ubuntu",
      // Multi host is possible, just by passing IPs/hostname as an array
      "host": [
        "ec2-18-196-175-87.eu-central-1.compute.amazonaws.com"
      ],
      // Branch
      "ref": "origin/production",
      // Git repository to clone
      "repo": "git@github.com:MoveoTech/TruckNow-Server.git",
      // Path of the application on target servers
      "path": "/home/ubuntu/TruckNow-Server",
      // Can be used to give options in the format used in the configura-
      // tion file.  This is useful for specifying options for which there
      // is no separate command-line flag, see 'man ssh' 
      // can be either a single string or an array of strings
      "ssh_options": "StrictHostKeyChecking=no",
      // Commands to be executed on the server after the repo has been cloned
      "post-deploy": "cp ~/.env . && apidoc -i apidoc -o webApidoc && npm install && mkdir -p logs && pm2 startOrRestart ecosystem.json --env development && pm2 save",
      // Environment variables that must be injected in all applications on this env
      "env": {
        "NODE_ENV": "production"
      }
    }
  }
}